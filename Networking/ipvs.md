## IPVS
```
# Создать под с ipvsadm
k run ipvasdm-pod  --privileged  --image=halfcrazy/toolbox --overrides='{ "spec": { "hostNetwork": true} }'

# Просмотр правил
ipvsadm --save -n

-A -t 10.96.0.1:443 -s rr
-a -t 10.96.0.1:443 -r 172.18.0.3:6443 -m -w 1

-A -t 10.96.0.10:53 -s rr                       # Сервис CodeDNS
-a -t 10.96.0.10:53 -r 10.244.0.3:53 -m -w 1    # Поды CodeDNS
-a -t 10.96.0.10:53 -r 10.244.0.4:53 -m -w 1    # Поды CodeDNS

-A -t 10.96.0.10:9153 -s rr
-a -t 10.96.0.10:9153 -r 10.244.0.3:9153 -m -w 1
-a -t 10.96.0.10:9153 -r 10.244.0.4:9153 -m -w 1

-A -u 10.96.0.10:53 -s rr
-a -u 10.96.0.10:53 -r 10.244.0.3:53 -m -w 1
-a -u 10.96.0.10:53 -r 10.244.0.4:53 -m -w 1

# Расшифровка
-A : это запись для сервиса
-a : эта запись для подов
-t : протокол TCP
-u : протокол UDP
-s rr : способ балансировки round robbin
-m : маскарад
-w 1 : вес 1
```